<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Verdana" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308859 (en-US, MWS); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Verdana;
      font-size: 14pt;
    }
  </style>
</head>
<body>
<a name="629"/>

<div>
<span><div><div>123. Best Time To buy and sell stock iii</div><hr/><div style="box-sizing: border-box; font-size: 14px; margin-top: 0px; margin-bottom: 1em; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">Say you have an array for which the</span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-style: italic;">i</span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); vertical-align: super; font-size: smaller; position: relative; top: -0.5em; color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 0;">th</span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">element is the price of a given stock on day</span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-style: italic;">i</span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">.</span></div><div style="box-sizing: border-box; font-size: 14px; margin-top: 0px; margin-bottom: 1em; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">Design an algorithm to find the maximum profit. You may complete at most</span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-style: italic;">two</span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">transactions.</span></div><div style="box-sizing: border-box; font-size: 14px; margin-top: 0px; margin-bottom: 1em; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">Note: </span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">You may not engage in multiple transactions at the same time (i.e., you must sell the stock before you buy again).</span></div><div style="box-sizing: border-box; font-size: 14px; margin-top: 0px; margin-bottom: 1em; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">Example 1:</span></div><div style="box-sizing: border-box; font-size: 13px; margin-top: 0px; margin-bottom: 1em; overflow: auto; background: rgb(247, 249, 250); padding: 10px 15px; border-radius: 3px; white-space: pre-wrap; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="box-sizing: border-box; color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6; font-weight: bold;">Input:</span> <span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">[3,3,5,0,0,3,1,4]</span></div><div><span style="box-sizing: border-box; color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6; font-weight: bold;">Output:</span> <span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">6</span></div><div><span style="box-sizing: border-box; color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6; font-weight: bold;">Explanation:</span> <span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">Buy on day 4 (price = 0) and sell on day 6 (price = 3), profit = 3-0 = 3.</span></div><div><span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">Then buy on day 7 (price = 1) and sell on day 8 (price = 4), profit = 4-1 = 3.</span></div></div><div style="box-sizing: border-box; font-size: 14px; margin-top: 0px; margin-bottom: 1em; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">Example 2:</span></div><div style="box-sizing: border-box; font-size: 13px; margin-top: 0px; margin-bottom: 1em; overflow: auto; background: rgb(247, 249, 250); padding: 10px 15px; border-radius: 3px; white-space: pre-wrap; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="box-sizing: border-box; color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6; font-weight: bold;">Input:</span> <span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">[1,2,3,4,5]</span></div><div><span style="box-sizing: border-box; color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6; font-weight: bold;">Output:</span> <span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">4</span></div><div><span style="box-sizing: border-box; color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6; font-weight: bold;">Explanation:</span> <span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">Buy on day 1 (price = 1) and sell on day 5 (price = 5), profit = 5-1 = 4.</span></div><div><span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">Note that you cannot buy on day 1, buy on day 2 and sell them later, as you are</span></div><div><span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">engaging multiple transactions at the same time. You must sell before buying again.</span></div></div><div style="box-sizing: border-box; font-size: 14px; margin-top: 0px; margin-bottom: 1em; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(38, 50, 56); font-family: -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">Example 3:</span></div><div style="box-sizing: border-box; font-size: 13px; margin-top: 0px; margin-bottom: 1em; overflow: auto; background: rgb(247, 249, 250); padding: 10px 15px; border-radius: 3px; white-space: pre-wrap; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="box-sizing: border-box; color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6; font-weight: bold;">Input:</span> <span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">[7,6,4,3,1]</span></div><div><span style="box-sizing: border-box; color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6; font-weight: bold;">Output:</span> <span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">0</span></div><div><span style="box-sizing: border-box; color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6; font-weight: bold;">Explanation:</span> <span style="color: rgb(38, 50, 56); font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; font-size: 13px; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.6;">In this case, no transaction is done, i.e. max profit = 0.</span></div></div><hr/><div>This question can be asked with any no of transactions so i'll tell you how to solve it for <span style="font-weight: bold;">K transactions allowed</span></div><div>create an array <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165); color: rgb(28, 51, 135);-evernote-highlight:true;">dp[N][K][2]</span></span></div><div><br/></div><div>/<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">/N number of days</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">// max K transactions</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">// cash and hold &lt;--- {0,1}</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">//also we can sell and then buy on same day but not the reverse</span></div><div><span style="color: rgb(50, 135, 18);">where dp[i][k][0]   </span><span style="color: rgb(50, 135, 18); font-style: italic;">is the maximum cash money obtained after</span> <span style="color: rgb(50, 135, 18);">K</span> <span style="color: rgb(50, 135, 18); font-style: italic;">transactions on day i</span></div><div><span style="font-style: italic; color: rgb(50, 135, 18);">dp[i][k][1] is the maximum invested money(hold) in stock after K transaction on day i</span></div><div><br/></div><div><span style="font-style: italic;">Initials :</span></div><div><span style="font-style: italic; color: rgb(28, 51, 135);">dp[0][k][0] = 0; </span> <span style="font-style: italic;">                           </span> <span style="font-style: italic; color: rgb(50, 135, 18);">/</span><span style="font-style: italic; color: rgb(50, 135, 18);">/</span> <span style="font-style: italic; color: rgb(50, 135, 18);">we cannot sell on first day</span></div><div><span style="font-style: italic; color: rgb(28, 51, 135);">dp[0][k][1] = -prices[i];</span><span style="font-style: italic;">                 </span> <span style="font-style: italic; color: rgb(50, 135, 18);">// we can buy on first day</span></div><div><br/></div><div><span style="font-style: italic;">for 1st transaction:</span></div><div><span style="font-style: italic;">d</span><span style="font-style: italic; color: rgb(28, 51, 135);">p[i][0][0] = max(don't sell on this day, sell on this day)</span></div><div><span style="font-style: italic; color: rgb(28, 51, 135);">                 = max(dp[i-1][0][0], dp[i-1][0][1] + prices[i])</span><span style="font-style: italic;">       </span><span style="font-style: italic; color: rgb(50, 135, 18);">// prices[i] -&gt; selling price  and dp[i-1][0][1] -&gt; buying price </span></div><div><br/></div><div><span style="font-style: italic; color: rgb(28, 51, 135);">dp[i][0][1] = max(don't buy on this day, buy on this day)</span></div><div><span style="font-style: italic; color: rgb(28, 51, 135);">                 = max(dp[i-1][0][1], -prices[i])</span></div><div><br/></div><div><br/></div><div><span style="font-style: italic;">for any other transaction k&gt;0:                             (0 means 1st transaction)</span></div><div><span style="font-style: italic; color: rgb(28, 51, 135);">dp[i][k][0] = max(don't sell on this day, sell on this day)</span></div><div><span style="font-style: italic; color: rgb(28, 51, 135);">                = max(dp[i-1][k][0], dp[i-1][k][1] + prices[i])</span></div><div><span style="font-style: italic; color: rgb(28, 51, 135);">dp[i][k][1] = max(don't buy on this day, buy on this day)</span></div><div><span style="font-style: italic; color: rgb(28, 51, 135);">                 = max(dp[i-1][k][1], dp[i-1][k-1][0] - prices[i])</span><span style="font-style: italic;">      </span></div><div><span style="font-style: italic; color: rgb(50, 135, 18);">// dp[i-1][k-1][0] is the profit obtained uptill k-1th transaction </span></div><div><span style="font-style: italic; color: rgb(50, 135, 18);">// if now  buy a stock hold income will become : dp[i-1][k-1][0] - prices[i]</span></div><div><br/></div><div><span style="font-style: italic;">finally,</span> <span style="font-style: italic; color: rgb(28, 51, 135);">return dp[N-1][K-1][0] </span> <span style="font-style: italic;">                                  /</span><span style="font-style: italic; color: rgb(50, 135, 18);">/N-1 and K-1 because indices start with 0 but meaning is same Nth day and Kth transaction</span></div><div><br/></div><div><br/></div><hr/><div><span style="font-style: italic; font-weight: bold; text-decoration: underline;">code:</span></div><div><span style="color: rgb(50, 135, 18);">// code can be extended for k transactions</span></div><div><span style="font-style: italic; background-color: rgb(255, 250, 165);-evernote-highlight:true;">int maxProfit(vector&lt;int&gt;&amp; prices) {</span></div><div><span style="font-style: italic;">      if(prices.size() &lt;= 1)</span></div><div><span style="font-style: italic;">          return 0;</span></div><div><span style="font-style: italic;">        int n = prices.size();</span></div><div><span style="font-style: italic;">        int dp[n][2][2] = {0};</span></div><div><span style="font-style: italic;">        </span><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;">dp[0][0][0] = 0;</span></div><div><span style="font-style: italic; background-color: rgb(255, 250, 165);-evernote-highlight:true;">        dp[0][1][0] = 0;</span></div><div><span style="font-style: italic; background-color: rgb(255, 250, 165);-evernote-highlight:true;">        dp[0][0][1] = -prices[0];</span></div><div><span style="font-style: italic; background-color: rgb(255, 250, 165);-evernote-highlight:true;">        dp[0][1][1] = -prices[0];</span></div><div><span style="font-style: italic;">        for(int i=1;i&lt;n;i++){</span></div><div><span style="font-style: italic;">           </span><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;"> dp[i][1][0] = max(dp[i-1][1][0],dp[i-1][1][1] + prices[i]);</span></div><div><span style="font-style: italic; background-color: rgb(255, 250, 165);-evernote-highlight:true;">            dp[i][1][1] = max(dp[i-1][1][1],dp[i-1][0][0] - prices[i]);</span></div><div><span style="font-style: italic; background-color: rgb(255, 250, 165);-evernote-highlight:true;">            dp[i][0][0] = max(dp[i-1][0][0],dp[i-1][0][1] + prices[i]);</span></div><div><span style="font-style: italic; background-color: rgb(255, 250, 165);-evernote-highlight:true;">            dp[i][0][1] = max(dp[i-1][0][1],-prices[i]);</span></div><div><span style="font-style: italic;">        }</span></div><div><span style="font-style: italic;">       </span><span style="background-color: rgb(255, 250, 165); font-style: italic;-evernote-highlight:true;"> return dp[n-1][1][0];</span></div><div><span style="font-style: italic;">    }</span></div><hr/><div><b>Important Note :</b></div></div><div>When you are implementing this problem for some really large values of K:</div><div>then it is better to add this prior-conditon for faster and results and stay within the time limits</div><div><br/></div><div>if(K &gt; N/2){</div><div><font color="#328712">//then we can cover all elements with K transactions therefore</font></div><div><font color="#328712">//it doesnot matter {1,2,7,16}</font></div><div><font color="#328712">// wther we do (16-1)  OR (2-1) + (7-2) + (16-7)</font></div><div><font color="#328712">//result will be same</font></div><div>int profit = 0;</div><div>for(int i=0;i&lt;N-1;i++)</div><div>profit += max(0,prices[i+1] - prices[i]);  <font style="color: rgb(50, 135, 18);">// no one wants to add -ve profits</font></div><div>}</div><div><br/></div><div><br/></div></span>
</div></body></html>
